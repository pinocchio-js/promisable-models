var Pinocchio=Pinocchio||{};Pinocchio.Promisable=function(r,i,t,n,s,o){this.startWithParent=true;var e={};e.Mixin=function(){this._deferred=jQuery.Deferred();this.listenTo(this,"sync",function(){this._deferred.resolve()});this.listenTo(this,"error",function(e,t,r){this._deferred.reject(e,t,r)});this.done=function(){return this._deferred.done.apply(this._deferred,arguments)};this.fail=function(){return this._deferred.fail.apply(this._deferred,arguments)};this.then=function(){return this._deferred.then.apply(this._deferred,arguments)};this.isResolved=function(){return this._deferred.state()=="resolved"};this.isRejected=function(){return this._deferred.state()=="rejected"};var e=this.fetch;this.fetch=function(){this._deferred=jQuery.Deferred();var t=e.apply(this,arguments);this.abort=function(){t.abort();return this};return t}};e.Model=t.Model.extend({constructor:function(){t.Model.apply(this,arguments);e.Mixin.apply(this,arguments)}});e.Model.Static=e.Model.extend({constructor:function(){e.Model.apply(this,arguments);this._deferred.resolve()}});e.Collection=t.Collection.extend({constructor:function(){t.Collection.apply(this,arguments);e.Mixin.apply(this,arguments)}});e.Collection.Static=e.Collection.extend({constructor:function(){e.Collection.apply(this,arguments);this._deferred.resolve()}});r["Promisable"]=e};